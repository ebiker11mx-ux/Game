<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1, user-scalable=no"/>
  <title>Mini Obby Runner</title>

  <!-- SEO -->
  <meta name="description" content="Play Mini Obby Runner â€“ a fast, fun obstacle runner game built with HTML5 Canvas." />

  <!-- Favicon -->
  <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>ðŸŽ®</text></svg>">

  <!-- âœ… AdSense verification -->
  <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1759087925328741"
    crossorigin="anonymous"></script>

  <style>
    :root {
      --bg: #0e1220;
      --fg: #e8ecf1;
      --accent: #66e3ff;
      --danger: #ff6b6b;
      --ground: #1b2439;
      --ui: rgba(0,0,0,0.35);
    }

    html, body {
      margin: 0;
      height: 100%;
      background: var(--bg);
      color: var(--fg);
      font-family: system-ui, sans-serif;
    }

    #game {
      display: grid;
      place-items: center;
      height: 100vh;
      width: 100vw;
      touch-action: none;
    }

    canvas {
      background: linear-gradient(#0e1220 60%, #11182b 60%);
      border-radius: 12px;
      box-shadow: 0 10px 30px rgba(0,0,0,.4);
    }

    #hud {
      position: absolute;
      inset: 0;
      display: grid;
      grid-template-rows: auto 1fr auto;
      padding: 12px;
      pointer-events: none;
    }

    .bar {
      display: flex;
      gap: 8px;
      justify-content: space-between;
      align-items: center;
    }

    .pill {
      background: var(--ui);
      padding: 8px 12px;
      border-radius: 999px;
      backdrop-filter: blur(6px);
      font-size: 14px;
    }

    #center {
      display: grid;
      place-items: center;
    }

    .banner {
      background: var(--ui);
      padding: 14px 18px;
      border-radius: 12px;
      text-align: center;
      max-width: 75%;
    }

    #controls {
      pointer-events: auto;
      display: grid;
      grid-template-columns: 1fr 1fr 1fr;
      gap: 10px;
    }

    .btn {
      background: var(--ui);
      padding: 14px;
      border-radius: 12px;
      text-align: center;
      user-select: none;
    }

    .btn:active {
      transform: scale(0.97);
    }
  </style>
</head>

<body>
<div id="game">
  <canvas id="c" width="420" height="700"></canvas>

  <div id="hud">
    <div class="bar">
      <div class="pill">Score: <span id="score">0</span></div>
      <div class="pill">Coins: <span id="coins">0</span></div>
      <div class="pill">Lives: <span id="lives">3</span></div>
    </div>

    <div id="center">
      <div class="banner" id="banner">
        Tap â–¶ Move â€¢ â¬† Jump â€¢ Avoid red blocks
      </div>
    </div>

    <div class="bar">
      <div class="pill">Mini Obby Runner v2.0</div>
      <div id="controls">
        <div class="btn" id="left">â—€</div>
        <div class="btn" id="jump">â¬†</div>
        <div class="btn" id="right">â–¶</div>
      </div>
    </div>
  </div>
</div>

<script>
(() => {
  const c = document.getElementById("c");
  const ctx = c.getContext("2d");

  const scoreEl = document.getElementById("score");
  const coinsEl = document.getElementById("coins");
  const livesEl = document.getElementById("lives");
  const banner = document.getElementById("banner");

  const leftBtn = document.getElementById("left");
  const rightBtn = document.getElementById("right");
  const jumpBtn = document.getElementById("jump");

  const W = c.width, H = c.height;
  const groundY = H - 120;

  let running = false;
  let gameOver = false;
  let score = 0, coins = 0, lives = 3, tick = 0;

  const player = {
    x: W / 2, y: groundY - 36,
    w: 36, h: 36,
    vx: 0, vy: 0,
    onGround: true
  };

  const obstacles = [];
  const inputs = { left:false, right:false, jump:false };

  function reset() {
    score = coins = tick = 0;
    lives = 3;
    obstacles.length = 0;
    player.x = W / 2;
    player.y = groundY - player.h;
    player.vx = player.vy = 0;
    running = true;
    gameOver = false;
    banner.textContent = "";
  }

  function spawnObstacle() {
    obstacles.push({
      x: W + 40,
      y: groundY - (40 + Math.random()*200),
      w: 40 + Math.random()*40,
      h: 20 + Math.random()*40
    });
  }

  function rectHit(a,b){
    return a.x < b.x+b.w && a.x+a.w > b.x &&
           a.y < b.y+b.h && a.y+a.h > b.y;
  }

  function update() {
    if (!running) return draw();

    tick++;
    score++;

    if (tick % 80 === 0) spawnObstacle();

    if (inputs.left) player.vx -= 0.7;
    if (inputs.right) player.vx += 0.7;
    player.vx *= 0.85;
    player.x += player.vx;

    if (inputs.jump && player.onGround) {
      player.vy = -16;
      player.onGround = false;
    }

    player.vy += 0.9;
    player.y += player.vy;

    if (player.y + player.h >= groundY) {
      player.y = groundY - player.h;
      player.vy = 0;
      player.onGround = true;
    }

    player.x = Math.max(8, Math.min(W-player.w-8, player.x));

    obstacles.forEach(o => {
      o.x -= 5;
      if (rectHit(player,o)) {
        lives--;
        player.vy = -10;
        if (lives <= 0) {
          running = false;
          gameOver = true;
          banner.textContent = "Game Over ðŸ˜µ Tap to Restart";
        }
      }
    });

    draw();
  }

  function draw() {
    ctx.clearRect(0,0,W,H);

    ctx.fillStyle = "#1b2439";
    ctx.fillRect(0, groundY, W, H);

    ctx.fillStyle = "#66e3ff";
    ctx.fillRect(player.x, player.y, player.w, player.h);

    ctx.fillStyle = "#ff6b6b";
    obstacles.forEach(o => ctx.fillRect(o.x,o.y,o.w,o.h));

    scoreEl.textContent = score;
    coinsEl.textContent = coins;
    livesEl.textContent = lives;

    requestAnimationFrame(update);
  }

  function start() {
    if (gameOver) reset();
    running = true;
    banner.textContent = "";
  }

  leftBtn.onpointerdown = () => { start(); inputs.left = true; };
  rightBtn.onpointerdown = () => { start(); inputs.right = true; };
  jumpBtn.onpointerdown = () => { start(); inputs.jump = true; };

  leftBtn.onpointerup = () => inputs.left = false;
  rightBtn.onpointerup = () => inputs.right = false;
  jumpBtn.onpointerup = () => inputs.jump = false;

  c.addEventListener("pointerdown", start);

  update();
})();
</script>
</body>
</html>
